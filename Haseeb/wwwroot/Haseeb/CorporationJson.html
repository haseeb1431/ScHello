<link rel="import" href="/sys/polymer/polymer.html">

<template>
    <template is="dom-bind">
        <h2>Welcome</h2>

        <h4>Create Main Corporation</h4>
        <div>
            <label>Name:</label>
            <input value="{{model.CorpName$::input}}">
            <!--TODO: Bring Text from resource files-->
            <button value="{{model.CreateCorpTrigger$::click}}" onmousedown="++this.value">Create corporation</button>
        </div>
        <br />
        <hr />



        <h4>List of Corporations</h4>
        <template is="dom-repeat" items="{{model.AllCorporation}}">
            <!--Repeat this for each Corp only-->

            <fieldset style="border:1px solid black">
                <!--Styles should be in the separate CSS file-->

                <h3>{{item.CorpName}}</h3>
                <h4>Franchise Offices</h4>

                <h5>Sort on</h5>
                <button value="{{item.SortOnTrigger$::click}}" onmousedown="this.value=5">Number of homes</button> - 
                <button value="{{item.SortOnTrigger$::click}}" onmousedown="this.value=6">Total Commission</button> - 
                <button value="{{item.SortOnTrigger$::click}}" onmousedown="this.value=7">Average Comission</button> - 
                <button value="{{item.SortOnTrigger$::click}}" onmousedown="this.value=8">Positive Trends</button>

                <!-- Franchise Details Table -->
                <!--TODO: Figure out how we can move this out and keep it working as well-->
                <!-- TODO: Apply table styling once funcationlity is complete -->
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Number of homes sold</th>
                            <th>Total Commission</th>
                            <th>Average Commission</th>
                            <th>Trend</th>
                        </tr>
                    </thead>
                    
                    <template is="dom-repeat" items="{{item.AllFranchisesSorted}}">
                        <tr>
                            <td><a href="{{item.EditURL}}"> {{item.FranchiseName}}</a></td>
                            <td>{{item.HouseSold}}</td>
                            <td>{{item.AverageCommission}}</td>
                            <td>{{item.TotalCommission}}</td>
                            <td>{{item.SalesTrend}}</td>
                        </tr>
                        

                        <!--imported-template is a custom element that helps with that by acting as an insertion point.-->
                        <!--<template is="imported-template" model="{{item}}" content$="{{item.Html}}">
            </template>-->
                    </template>

                </table>
                
                <h5>Franchise Offices</h5>
                <label>Franchise Name: </label>
                <input value="{{item.FranchiseName$::input}}">
                <button value="{{item.CreateFranchiseTrigger$::click}}" onmousedown="++this.value">Create Franchise</button>
            </fieldset>
            <br/>
        </template>

    </template>
</template>
